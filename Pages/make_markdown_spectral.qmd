
```{r}
setwd("/Users/anavaz/Stuff/github/SEFSC-SFD-SAFB-Poor-Recruitment/Pages/")

cat("Calculate spectral density. Define frequency band cutoffs based on Muñiz et al., 2021 \n")
cat("(1) Interannual frequencies 384–1152 days (>1-3 years) \n")
cat("(2) Annual frequencies 101–383 days \n")
cat("(3) Intra-seasonal frequencies 20–100 days \n")
cat("(4) Synoptic frequencies 16–19 days \n")
cat("Normalize the band energy by the total spectral density to find the relative contributions \n")
 
# Names of Variables to plot
NamePlot   <- c("Bottom Temperature","Salinity","SSH","SST","Mixed Layer")
myname     <- c("bottomT","Salinity","ssh","sst","mixedlayer")
mynameUp   <- c("BottomT","Salinity","SSH","SST","MixedLayer")
col_names  <- c("InterAnnual", "Annual", "IntraAnnual", "Synoptic")
Full_names <- c("Inter-Annual", "Annual", "Intra-Annual", "Synoptic")

pathfigs <- ("../images/analyses/")

for (iaux in seq_along(col_names)) {
  cat(paste0("# ",Full_names[iaux]," \n\n"))
  
  for (iVar in seq_along(NamePlot)) {
    file_list <- list.files(path = pathfigs, 
                 pattern = paste0("^", col_names[iaux], 
                                  "\\d*_", myname[iVar], "\\.png$"))
    
    cat("::: {layout-ncol=\"3\"}\n\n")
    # find pattern in the length
    for (iFile in 1:length(file_list)) {
      switch(iFile,
             {cat(paste0("## ", NamePlot[iVar], " 1993-2021 \n"))},
             {cat(paste0("## ", NamePlot[iVar], " 1993-2009 \n"))},
             {cat(paste0("## ", NamePlot[iVar], " 2010-2021 \n"))})
      fig_name <- paste0(pathfigs,file_list[iFile])
      cat(paste0('![](', fig_name, ')\n\n'),sep="")
    }
    cat("::: \n\n")
  }
}
```